<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Visual Journeys – Showcase & Discover Photography</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

  <style>
    /* ... (CSS remains exactly the same as your original) ... */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Roboto', sans-serif; background: #f5f7fa; color: #2c3e50; line-height: 1.7; }
    header { background: linear-gradient(to right, #0f2027, #203a43, #2c5364); color: white; padding: 1.5rem 0; position: sticky; top: 0; z-index: 100; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
    .container { max-width: 1300px; margin: 0 auto; padding: 0 2rem; }
    nav { display: flex; justify-content: space-between; align-items: center; }
    .logo { font-family: 'Playfair Display', serif; font-size: 2.2rem; font-weight: 700; }
    nav ul { list-style: none; display: flex; gap: 2.5rem; }
    nav a { color: white; text-decoration: none; font-weight: 500; transition: color 0.3s ease; }
    nav a:hover { color: #a8d0ff; }
    .hero { background: linear-gradient(rgba(0,0,0,0.65), rgba(0,0,0,0.65)), url('https://images.pexels.com/photos/20544112/pexels-photo-20544112/free-photo-of-rowboat-on-beach-at-sunset.jpeg'); background-size: cover; background-position: center; color: white; text-align: center; padding: 12rem 2rem 9rem; position: relative; }
    .hero h1 { font-family: 'Playfair Display', serif; font-size: 4.5rem; margin-bottom: 1.2rem; text-shadow: 3px 3px 12px rgba(0,0,0,0.8); }
    .hero p { font-size: 1.5rem; max-width: 800px; margin: 0 auto 2.5rem; opacity: 0.95; }
    .btn { display: inline-block; background: linear-gradient(135deg, #4da6ff, #007bff); color: white; padding: 1.2rem 3rem; text-decoration: none; border-radius: 50px; font-weight: 700; font-size: 1.2rem; transition: all 0.4s ease; box-shadow: 0 8px 20px rgba(77,166,255,0.3); cursor: pointer; border: none; }
    .btn:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 15px 30px rgba(77,166,255,0.5); }
    section { padding: 7rem 0; }
    h2 { font-family: 'Playfair Display', serif; text-align: center; font-size: 3.2rem; margin-bottom: 4rem; color: #1a3c5e; position: relative; }
    h2::after { content: ''; width: 80px; height: 4px; background: #007bff; display: block; margin: 1rem auto 0; border-radius: 2px; }
    .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 2.5rem; }
    .card { background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.12); transition: all 0.4s ease; }
    .card:hover { transform: translateY(-15px) scale(1.03); box-shadow: 0 25px 50px rgba(0,0,0,0.2); }
    .card img { width: 100%; height: 280px; object-fit: cover; transition: transform 0.5s ease; }
    .card:hover img { transform: scale(1.08); }
    .card-content { padding: 1.8rem; text-align: center; }
    .card-content h3 { font-family: 'Playfair Display', serif; margin-bottom: 0.8rem; color: #1a3c5e; font-size: 1.6rem; }
    .card-content p { color: #555; margin-bottom: 1.2rem; }
    .card-content a { color: #007bff; text-decoration: none; font-weight: 600; transition: color 0.3s; }
    form { max-width: 600px; margin: 0 auto; background: white; padding: 3rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.12); }
    input, button { width: 100%; padding: 1.2rem; margin: 1rem 0; border: 1px solid #ddd; border-radius: 8px; font-size: 1.1rem; }
    button { background: linear-gradient(135deg, #4da6ff, #007bff); color: white; border: none; cursor: pointer; font-weight: 700; }
    footer { background: linear-gradient(to right, #0f2027, #203a43, #2c5364); color: #ccc; text-align: center; padding: 3rem 0; margin-top: 5rem; }
    .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.85); }
    .modal-content { background: white; margin: 5% auto; padding: 2.5rem; border-radius: 16px; width: 90%; max-width: 900px; position: relative; max-height: 85vh; overflow-y: auto; }
    .close, .close-login { position: absolute; right: 25px; top: 15px; font-size: 2.5rem; cursor: pointer; }
    .profile-section { margin-bottom: 2rem; }
    .booking-info { background: #f0f8ff; padding: 1.5rem; border-radius: 12px; }
  </style>
</head>
<body onload="initApp()">

  <header>
    <div class="container">
      <nav>
        <div class="logo">Visual Journeys</div>
        <ul id="navLinks">
          <li><a href="#home">Home</a></li>
          <li><a href="#gallery">Gallery</a></li>
          <li><a href="#register">Register</a></li>
          <li><a href="#" class="login-link">Login</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <section class="hero" id="home">
    <div class="container">
      <h1>Visual Journeys</h1>
      <p>Capture the world through your lens. Showcase your photography, connect with clients, and turn your passion into a journey worth sharing.</p>
      <a href="#register" class="btn">Join as a Photographer Today</a>
    </div>
  </section>

  <section id="gallery">
    <div class="container">
      <h2>Featured Photographers</h2>
      <div class="gallery">
        <div class="card">
          <img src="https://images.pexels.com/photos/1029572/pexels-photo-1029572.jpeg" alt="Portrait">
          <div class="card-content">
            <h3>Lethabo M.</h3>
            <p>Durban | Portraits</p>
            <a href="#" class="portfolio-link" data-id="lethabo">View Portfolio</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="register">
    <div class="container">
      <h2>Register as a Photographer</h2>
      <form id="registerForm">
        <input type="text" id="regName" placeholder="Full Name" required>
        <input type="email" id="regEmail" placeholder="Email Address" required>
        <input type="password" id="regPass" placeholder="Password" required>
        <button type="submit">Create My Profile</button>
      </form>
    </div>
  </section>

  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div id="profileContent"></div>
    </div>
  </div>

  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close-login">&times;</span>
      <h2>Login</h2>
      <form id="loginForm">
        <input type="email" id="loginEmail" placeholder="Email" required>
        <input type="password" id="loginPass" placeholder="Password" required>
        <button type="submit">Login</button>
      </form>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>© 2026 Visual Journeys. Built for KwaZulu-Natal photographers.</p>
    </div>
  </footer>

  <script>
    // --- 1. FIREBASE CONFIGURATION ---
    const firebaseConfig = {
      apiKey: "AIzaSyD0bzLcbU6w6J3Zp-zYwsWLpmH5p64C6eQ",
      authDomain: "visual-journeys-59b7a.firebaseapp.com",
      projectId: "visual-journeys-59b7a",
      storageBucket: "visual-journeys-59b7a.firebasestorage.app",
      messagingSenderId: "193489457433",
      appId: "1:193489457433:web:69dcfe838303be8106b588",
      measurementId: "G-3GPGR8TWD9"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    // --- 2. AUTHENTICATION LOGIC ---

    function initApp() {
      // Listen for auth state changes
      auth.onAuthStateChanged(user => {
        const navLinks = document.getElementById('navLinks');
        if (user) {
          navLinks.innerHTML = `
            <li><a href="#home">Home</a></li>
            <li><a href="#gallery">Gallery</a></li>
            <li><a href="#" id="logoutLink">Logout (${user.email})</a></li>
          `;
          document.getElementById('logoutLink').onclick = (e) => {
            e.preventDefault();
            auth.signOut().then(() => alert('Logged out!'));
          };
        } else {
          navLinks.innerHTML = `
            <li><a href="#home">Home</a></li>
            <li><a href="#gallery">Gallery</a></li>
            <li><a href="#register">Register</a></li>
            <li><a href="#" class="login-link" onclick="showLogin()">Login</a></li>
          `;
        }
      });
    }

    // Register
    document.getElementById('registerForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const email = document.getElementById('regEmail').value;
      const password = document.getElementById('regPass').value;
      const name = document.getElementById('regName').value;

      auth.createUserWithEmailAndPassword(email, password)
        .then(cred => {
          // Store additional user info in Firestore
          return db.collection('photographers').doc(cred.user.uid).set({
            name: name,
            email: email,
            createdAt: new Date()
          });
        })
        .then(() => {
          alert('Account created successfully!');
          document.getElementById('registerForm').reset();
        })
        .catch(err => alert(err.message));
    });

    // Login
    function showLogin() { document.getElementById('loginModal').style.display = 'block'; }
    
    document.getElementById('loginForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPass').value;

      auth.signInWithEmailAndPassword(email, password)
        .then(() => {
          document.getElementById('loginModal').style.display = 'none';
          document.getElementById('loginForm').reset();
        })
        .catch(err => alert(err.message));
    });

    // --- 3. MODAL LOGIC ---
    const modal = document.getElementById('modal');
    const closeBtn = document.querySelector('.close');
    const closeLogin = document.querySelector('.close-login');

    closeBtn.onclick = () => modal.style.display = 'none';
    closeLogin.onclick = () => document.getElementById('loginModal').style.display = 'none';
    
    window.onclick = (event) => {
      if (event.target == modal || event.target == document.getElementById('loginModal')) {
        modal.style.display = 'none';
        document.getElementById('loginModal').style.display = 'none';
      }
    };
  </script>
</body>
</html>
